@startuml
enum LessonType {
    GROUP
    PRIVATE
}

enum UserType {
    CLIENT
    INSTRUCTOR
}

enum DayOfWeek {
    MONDAY
    TUESDAY
    WEDNESDAY
    THURSDAY
    FRIDAY
    SATURDAY
    SUNDAY
}

entity "Administrator" <<Singleton>> {
}

entity "Client" {
    +id: Int
    +firstName: String
    +lastName: String
    +email: String
    +password: String
    +role: UserType
    +createdAt: DateTime
    +updatedAt: DateTime
}

entity "Child" {
    +id: Int
    +firstName: String
    +lastName: String
    +dateOfBirth: DateTime
    +parentId: Int
    +createdAt: DateTime
    +updatedAt: DateTime
}

entity "Location" {
    +id: Int
    +name: String
    +address: String
    +city: String
    +province: String
    +postalCode: String
}

entity "Lesson" {
    +id: Int
    +type: LessonType
    +title: String
    +locationId: Int
    +isAvailable: Boolean
    +startTime: DateTime
    +endTime: DateTime
    +schedule: List<DayOfWeek>
    +createdAt: DateTime
    +updatedAt: DateTime
}

entity "Booking" {
    +id: Int
    +clientId: Int
    +lessonId: Int
    +createdAt: DateTime
    +updatedAt: DateTime
}

entity "Instructor" {
}

entity "ClientCollection" {
    +clients: List<Client>
}

entity "InstructorCollection" {
    +instructors: List<Instructor>
}

entity "ChildrenCollection" {
    +children: List<Child>
}

entity "LocationsCollection" {
    +locations: List<Location>
}

entity "LessonsCollection" {
    +lessons: List<Lesson>
}

entity "BookingsCollection" {
    +bookings: List<Booking>
}

entity "Terminal" {
}

Client <|-- Administrator
Client <|-- Instructor

Client "1" --o "0..*" Child : has
Instructor "1" --o "0..*" Lesson : teaches
Location "1" --o "0..*" Lesson : offers
Lesson "1" --o "0..1" Booking : has
Client "1" --o "0..*" Booking : makes

"ClientCollection" *-- "Client" : contains
"InstructorCollection" *-- "Instructor" : contains
"ChildrenCollection" *-- "Child" : contains
"LocationsCollection" *-- "Location" : contains
"LessonsCollection" *-- "Lesson" : contains
"BookingsCollection" *-- "Booking" : contains

"Terminal" -- "1" "ClientCollection" : connects to
"Terminal" -- "1" "InstructorCollection" : connects to
"Terminal" -- "1" "ChildrenCollection" : connects to
"Terminal" -- "1" "LocationsCollection" : connects to
"Terminal" -- "1" "LessonsCollection" : connects to
"Terminal" -- "1" "BookingsCollection" : connects to
@enduml